<Page
    x:Class="DromHub.Views.BrandOverviewPage"
    x:Name="PageRoot"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <!-- ========= RESOURCES ========= -->
    <Page.Resources>
        <!-- hairlines (light) -->
        <LinearGradientBrush x:Key="SoftDividerHBrush" StartPoint="0,0" EndPoint="1,0">
            <GradientStop Color="#00000000" Offset="0.0"/>
            <GradientStop Color="#33000000" Offset="0.5"/>
            <GradientStop Color="#00000000" Offset="1.0"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="SoftDividerVBrush" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#00000000" Offset="0.0"/>
            <GradientStop Color="#33000000" Offset="0.06"/>
            <GradientStop Color="#33000000" Offset="0.94"/>
            <GradientStop Color="#00000000" Offset="1.0"/>
        </LinearGradientBrush>

        <Style x:Key="HairlineH" TargetType="Rectangle">
            <Setter Property="Height" Value="1"/>
            <Setter Property="Fill" Value="{StaticResource SoftDividerHBrush}"/>
            <Setter Property="IsHitTestVisible" Value="False"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="HairlineV" TargetType="Rectangle">
            <Setter Property="Width" Value="1"/>
            <Setter Property="Fill" Value="{StaticResource SoftDividerVBrush}"/>
            <Setter Property="IsHitTestVisible" Value="False"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
        </Style>

        <!-- tooltips / labels -->
        <x:String x:Key="ChipYearTT">Год основания / релевантный год</x:String>
        <x:String x:Key="ChipMarkupTT">Наценка, % (бренд)</x:String>
        <x:String x:Key="ChipCountryTT">Страна (ISO-2)</x:String>
        <x:String x:Key="ChipPartsTT">Всего деталей бренда</x:String>
        <x:String x:Key="ChipAgeTT">Лет на рынке</x:String>
    </Page.Resources>

    <!-- ========= LAYOUT (2 cols × 5 rows) ========= -->
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="7*"/>
                <ColumnDefinition Width="6*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <!-- 0: бренд | о бренде -->
                <RowDefinition Height="Auto"/>
                <!-- 1: основной контент -->
                <RowDefinition Height="Auto"/>
                <!-- 2: сцена/заполнение -->
                <RowDefinition Height="*"/>
                <!-- 3: синонимы -->
                <RowDefinition Height="Auto"/>
                <!-- 4: ID -->
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- ===== Row 0 Col 0: Бренд (заголовок) ===== -->
            <TextBlock Grid.Row="0" Grid.Column="0"
                       Text="{Binding BrandNameUpper}"
                       FontFamily="{StaticResource SFPro}"
                       Style="{ThemeResource DisplayTextBlockStyle}"
                       Margin="20,0,20,0"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Center"/>

            <!-- ===== Row 0 Col 1: «О БРЕНДЕ» ===== -->
            <TextBlock Grid.Row="0" Grid.Column="1"
                       Text="О БРЕНДЕ"
                       FontFamily="{StaticResource SFPro}"
                       Style="{ThemeResource TitleLargeTextBlockStyle}"
                       Margin="20,0,20,0"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Center"/>

            <!-- ===== Row 1 Col 0: ОСНОВНОЙ КОНТЕНТ (ЛЕВАЯ КОЛОНКА) ===== -->
            <Grid Grid.Row="1" Grid.Column="0">
                <Grid.RowDefinitions>
                    <!-- 1: лента -->
                    <RowDefinition Height="Auto"/>
                    <!-- 2: остальное -->
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Лента -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="20,0,20,10" VerticalAlignment="Center">
                    <!-- избранное -->
                    <ToggleButton x:Name="FavButton"
                                  IsChecked="{Binding IsFavorite, Mode=TwoWay}"
                                  Background="Transparent"
                                  BorderThickness="0"
                                  Padding="0"
                                  VerticalAlignment="Center">
                        <ImageIcon Source="/Assets/star.svg" Height="32" Width="32"/>
                    </ToggleButton>

                    <!-- разделители между группами -->
                    <StackPanel Width="8"/>

                    <!-- популярность -->
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="2">
                        <ImageIcon Source="/Assets/diamond.fill.svg" Height="17" Width="17" VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/diamond.fill.svg" Height="17" Width="17" VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/diamond.svg" Height="17" Width="17" VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Width="8"/>

                    <!-- тип -->
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="2">
                        <TextBlock Text="ТИП ПРОИЗВОДИТЕЛЯ:"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyTextBlockStyle}"
                                   VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/car.svg" Height="17" Width="17" VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Width="8"/>

                    <!-- метки -->
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="2">
                        <TextBlock Text="МЕТКИ:"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyTextBlockStyle}"
                                   VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/oilcan.svg" Height="17" VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/steeringwheel.svg" Height="17" VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/suspension.shock.svg" Height="17" VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/pedal.brake.svg" Height="17" VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/minus.plus.batteryblock.svg" Height="17" VerticalAlignment="Center"/>
                        <ImageIcon Source="/Assets/headlight.high.beam.svg" Height="17" VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- Остальное: линии + метрики1/2 -->
                <Grid Grid.Row="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- верхняя линия -->
                        <RowDefinition Height="*"/>
                        <!-- контент -->
                        <RowDefinition Height="Auto"/>
                        <!-- нижняя линия -->
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <!-- метрики1 -->
                        <ColumnDefinition Width="Auto"/>
                        <!-- вертикальная линия -->
                        <ColumnDefinition Width="Auto"/>
                        <!-- метрики2 -->
                    </Grid.ColumnDefinitions>

                    <!-- линии -->
                    <Rectangle Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource HairlineH}"/>
                    <Rectangle Grid.Row="0" Grid.Column="1" Grid.RowSpan="3" Style="{StaticResource HairlineV}"/>
                    <Rectangle Grid.Row="2" Grid.ColumnSpan="3" Style="{StaticResource HairlineH}"/>

                    <!-- ===== Метрики 1 ===== -->
                    <Grid Grid.Row="1" Grid.Column="0" Margin="20,10,20,10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Метрика 1 -->
                        <Grid Grid.Row="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <!-- заголовок -->
                                <RowDefinition Height="*"/>
                                <!-- иконка + значение -->
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                                       Text="АССОРТИМЕНТ:"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyTextBlockStyle}"/>

                            <!-- иконка + значение по центру по вертикали и с отступом -->
                            <Grid Grid.Row="1" Grid.ColumnSpan="2" ColumnSpacing="8" VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <ImageIcon Grid.Column="0" Source="/Assets/square.stack.3d.up.svg" Height="24" Width="24" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="1"
                                           Text="20% + 2.2"
                                           FontFamily="{StaticResource SFPro}"
                                           Style="{ThemeResource SubtitleTextBlockStyle}"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </Grid>

                        <!-- Метрика 2 -->
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                                       Text="УЗНАВАЕМОСТЬ:"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyTextBlockStyle}"/>

                            <Grid Grid.Row="1" Grid.ColumnSpan="2" ColumnSpacing="8" VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <ImageIcon Grid.Column="0" Source="/Assets/tag.svg" Height="24" Width="24" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="1"
                                           Text="10% + 0.5"
                                           FontFamily="{StaticResource SFPro}"
                                           Style="{ThemeResource SubtitleTextBlockStyle}"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </Grid>

                        <!-- Метрика 3 -->
                        <Grid Grid.Row="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                                       Text="МАРЖИНАЛЬНОСТЬ:"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyTextBlockStyle}"/>

                            <Grid Grid.Row="1" Grid.ColumnSpan="2" ColumnSpacing="8" VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <ImageIcon Grid.Column="0" Source="/Assets/centsign.svg" Height="24" Width="24" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="1"
                                           Text="30% + 5.1"
                                           FontFamily="{StaticResource SFPro}"
                                           Style="{ThemeResource SubtitleTextBlockStyle}"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </Grid>
                    </Grid>

                    <!-- ===== Метрики 2 ===== -->
                    <Grid Grid.Row="1" Grid.Column="2" Margin="20,10,20,10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <!-- чипсы -->
                            <RowDefinition Height="12"/>
                            <!-- отступ между чипсами и метриками -->
                            <RowDefinition Height="*"/>
                            <!-- метрика A -->
                            <RowDefinition Height="*"/>
                            <!-- метрика B -->
                        </Grid.RowDefinitions>

                        <!-- Чипсы -->
                        <Grid Grid.Row="0" HorizontalAlignment="Left">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="64"/>
                                <ColumnDefinition Width="64"/>
                                <ColumnDefinition Width="64"/>
                                <ColumnDefinition Width="64"/>
                                <ColumnDefinition Width="64"/>
                            </Grid.ColumnDefinitions>

                            <!-- Иконки -->
                            <ImageIcon Grid.Row="0" Grid.Column="0" Source="/Assets/centsign.svg" Height="24" Width="24">
                                <ToolTipService.ToolTip>
                                    <ToolTip Content="{StaticResource ChipYearTT}"/>
                                </ToolTipService.ToolTip>
                            </ImageIcon>
                            <ImageIcon Grid.Row="0" Grid.Column="1" Source="/Assets/centsign.svg" Height="24" Width="24">
                                <ToolTipService.ToolTip>
                                    <ToolTip Content="{StaticResource ChipMarkupTT}"/>
                                </ToolTipService.ToolTip>
                            </ImageIcon>
                            <ImageIcon Grid.Row="0" Grid.Column="2" Source="/Assets/centsign.svg" Height="24" Width="24">
                                <ToolTipService.ToolTip>
                                    <ToolTip Content="{StaticResource ChipCountryTT}"/>
                                </ToolTipService.ToolTip>
                            </ImageIcon>
                            <ImageIcon Grid.Row="0" Grid.Column="3" Source="/Assets/centsign.svg" Height="24" Width="24">
                                <ToolTipService.ToolTip>
                                    <ToolTip Content="{StaticResource ChipPartsTT}"/>
                                </ToolTipService.ToolTip>
                            </ImageIcon>
                            <ImageIcon Grid.Row="0" Grid.Column="4" Source="/Assets/centsign.svg" Height="24" Width="24">
                                <ToolTipService.ToolTip>
                                    <ToolTip Content="{StaticResource ChipAgeTT}"/>
                                </ToolTipService.ToolTip>
                            </ImageIcon>

                            <!-- Значения -->
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="2024"
                                       FontFamily="{StaticResource SFPro}" Style="{ThemeResource CaptionTextBlockStyle}" TextAlignment="Center"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="15"
                                       FontFamily="{StaticResource SFPro}" Style="{ThemeResource CaptionTextBlockStyle}" TextAlignment="Center"/>
                            <TextBlock Grid.Row="1" Grid.Column="2" Text="RU"
                                       FontFamily="{StaticResource SFPro}" Style="{ThemeResource CaptionTextBlockStyle}" TextAlignment="Center"/>
                            <TextBlock Grid.Row="1" Grid.Column="3" Text="12541"
                                       FontFamily="{StaticResource SFPro}" Style="{ThemeResource CaptionTextBlockStyle}" TextAlignment="Center"/>
                            <TextBlock Grid.Row="1" Grid.Column="4" Text="36"
                                       FontFamily="{StaticResource SFPro}" Style="{ThemeResource CaptionTextBlockStyle}" TextAlignment="Center"/>
                        </Grid>

                        <!-- Метрика A -->
                        <Grid Grid.Row="2" ColumnSpacing="4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <!-- бар -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- дельта -->
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <!-- название -->
                                <RowDefinition Height="Auto"/>
                                <!-- бар + дельта -->
                                <RowDefinition Height="Auto"/>
                                <!-- число (центр по бару) -->
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0"
                                       Text="МЕТРИКА 1"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyTextBlockStyle}"/>

                            <ProgressBar x:Name="BarA" Grid.Row="1" Grid.Column="0" Height="10" Value="50" HorizontalAlignment="Stretch"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="+2.2"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyTextBlockStyle}"
                                       VerticalAlignment="Center"/>

                            <!-- число: ширина = ширине бара; по центру; вертикально – вверх строки -->
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="50"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyStrongTextBlockStyle}"
                                       Width="{Binding ElementName=BarA, Path=ActualWidth, Mode=OneWay}"
                                       TextAlignment="Center"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       Margin="0,4,0,0"/>
                        </Grid>

                        <!-- Метрика B -->
                        <Grid Grid.Row="3" ColumnSpacing="4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0"
                                       Text="МЕТРИКА 2"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyTextBlockStyle}"/>

                            <ProgressBar x:Name="BarB" Grid.Row="1" Grid.Column="0" Height="10" Value="50" HorizontalAlignment="Stretch"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="+1.3"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyTextBlockStyle}"
                                       VerticalAlignment="Center"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="50"
                                       FontFamily="{StaticResource SFPro}"
                                       Style="{ThemeResource BodyStrongTextBlockStyle}"
                                       Width="{Binding ElementName=BarB, Path=ActualWidth, Mode=OneWay}"
                                       TextAlignment="Center"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       Margin="0,4,0,0"/>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>

            <!-- ===== Row 1 Col 1: ПРАВЫЙ КОНТЕНТ (описание + литера) ===== -->
            <Grid Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Margin="20,0,20,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- описание -->
                    <RowDefinition Height="*"/>
                    <!-- литера -->
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0"
                           VerticalAlignment="Top"
                           Text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer viverra, erat eu vehicula tempus, augue elit cursus justo, vitae iaculis neque nibh at arcu. Curabitur laoreet dui at dui porta, non tempus purus feugiat."
                           FontFamily="{StaticResource SFPro}"
                           Style="{ThemeResource BodyTextBlockStyle}"
                           TextWrapping="WrapWholeWords"/>

                <TextBlock Grid.Row="1"
                           Text="{Binding Monogram}"
                           FontFamily="{StaticResource SFPro}"
                           Opacity="0.06"
                           FontSize="220"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
            </Grid>

            <!-- ===== Row 3: СИНОНИМЫ ===== -->
            <Grid Grid.Row="3" Grid.ColumnSpan="2">
                <TextBlock Text="- Synonym | SYNONIM | sYNONIM | sYnOnn1m -"
                           FontFamily="{StaticResource SFPro}"
                           Style="{ThemeResource BodyStrongTextBlockStyle}"
                           HorizontalAlignment="Center"/>
            </Grid>

            <!-- ===== Row 4: ID ===== -->
            <Grid Grid.Row="4" Grid.ColumnSpan="2">
                <TextBlock Text="{Binding BrandId}"
                           FontFamily="{StaticResource SFPro}"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           HorizontalAlignment="Center"/>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>