<Page x:Class="DromHub.Views.BrandSettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Page.Resources>
        <Style TargetType="Expander">
            <Setter Property="ExpandDirection" Value="Down"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="IsTabStop" Value="False"/>
            <Setter Property="Margin" Value="20,0,20,0"/>
        </Style>
    </Page.Resources>

    <!-- единый скролл на всю страницу -->
    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Disabled">
        <!-- Аккордеон: 4 строки -->
        <Grid x:Name="Root" RowSpacing="10" Margin="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- === ОСНОВНЫЕ === -->
            <Expander x:Name="ExpCore"
                      Grid.Row="0"
                      Expanding="Accordion_Expanding">
                <Expander.Header>
                    <TextBlock Text="ОСНОВНЫЕ"
                               Style="{ThemeResource SubtitleTextBlockStyle}"
                               FontFamily="{StaticResource SFPro}"
                               Margin="10,4,10,4"
                               VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"/>
                </Expander.Header>

                <Grid Margin="10,4,10,4" ColumnSpacing="12" RowSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="40"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="420"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Name -->
                    <FontIcon Grid.Row="0" Grid.Column="0" Glyph="&#xE70F;" VerticalAlignment="Center"/>
                    <StackPanel Grid.Row="0" Grid.Column="1">
                        <TextBlock Text="Название бренда"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock Text="2–80 символов, регистр/пробелы нормализуются; уникальность среди брендов"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </StackPanel>
                    <TextBox Grid.Row="0" Grid.Column="2"
                             PlaceholderText="Например: BOSCH"
                             FontFamily="{StaticResource SFPro}"
                             MaxLength="80"/>

                    <!-- IsOem -->
                    <FontIcon Grid.Row="1" Grid.Column="0" Glyph="&#xE82D;" VerticalAlignment="Center"/>
                    <StackPanel Grid.Row="1" Grid.Column="1">
                        <TextBlock Text="Производитель"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock Text="OEM или Аналог"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </StackPanel>
                    <ToggleSwitch Grid.Row="1" Grid.Column="2" OnContent="OEM" OffContent="Аналог"/>

                    <!-- CountryCode -->
                    <FontIcon Grid.Row="2" Grid.Column="0" Glyph="&#xE909;" VerticalAlignment="Center"/>
                    <StackPanel Grid.Row="2" Grid.Column="1">
                        <TextBlock Text="Страна (ISO-2)"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock Text="Код из ISO-3166-1 alpha-2 (RU, DE, CN, …)"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </StackPanel>
                    <ComboBox Grid.Row="2" Grid.Column="2" MinWidth="200">
                        <ComboBoxItem Content="RU"/>
                        <ComboBoxItem Content="DE"/>
                        <ComboBoxItem Content="CN"/>
                        <ComboBoxItem Content="US"/>
                        <ComboBoxItem Content="JP"/>
                    </ComboBox>

                    <!-- Website -->
                    <FontIcon Grid.Row="3" Grid.Column="0" Glyph="&#xE774;" VerticalAlignment="Center"/>
                    <StackPanel Grid.Row="3" Grid.Column="1">
                        <TextBlock Text="Сайт"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock Text="Полный URL: https://…  (пусто → «—»)"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </StackPanel>
                    <TextBox Grid.Row="3" Grid.Column="2"
                             PlaceholderText="https://example.com"
                             FontFamily="{StaticResource SFPro}"/>

                    <!-- YearFounded -->
                    <FontIcon Grid.Row="4" Grid.Column="0" Glyph="&#xE823;" VerticalAlignment="Center"/>
                    <StackPanel Grid.Row="4" Grid.Column="1">
                        <TextBlock Text="Год основания"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock Text="Минимум 1850, максимум — текущий"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </StackPanel>
                    <NumberBox Grid.Row="4" Grid.Column="2" Minimum="1850" Maximum="2100" Value="1998"/>

                    <!-- ShortDescription -->
                    <FontIcon Grid.Row="5" Grid.Column="0" Glyph="&#xE8C8;" VerticalAlignment="Center"/>
                    <StackPanel Grid.Row="5" Grid.Column="1">
                        <TextBlock Text="Краткое описание"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock Text="0–400 символов, кратко и по делу"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </StackPanel>
                    <TextBox Grid.Row="5" Grid.Column="2"
                             FontFamily="{StaticResource SFPro}"
                             TextWrapping="Wrap" AcceptsReturn="True" Height="88"
                             PlaceholderText="Описание бренда…"/>

                    <!-- Tags/Labels -->
                    <FontIcon Grid.Row="6" Grid.Column="0" Glyph="&#xE8EC;" VerticalAlignment="Center"/>
                    <StackPanel Grid.Row="6" Grid.Column="1">
                        <TextBlock Text="Метки"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock Text="Выберите из справочника или добавьте новые (по ролям)"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </StackPanel>
                    <StackPanel Grid.Row="6" Grid.Column="2">
                        <AutoSuggestBox PlaceholderText="Добавить метку…"/>
                        <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                            <Border CornerRadius="12" Padding="8,4" Margin="0,0,6,0"
                                    Background="{ThemeResource AccentFillColorSecondaryBrush}">
                                <TextBlock Text="Электрика"
                                           FontFamily="{StaticResource SFPro}"
                                           Style="{ThemeResource CaptionTextBlockStyle}"/>
                            </Border>
                            <Border CornerRadius="12" Padding="8,4"
                                    Background="{ThemeResource AccentFillColorSecondaryBrush}">
                                <TextBlock Text="Подвеска"
                                           FontFamily="{StaticResource SFPro}"
                                           Style="{ThemeResource CaptionTextBlockStyle}"/>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Expander>

            <!-- === АЛИАСЫ === -->
            <Expander x:Name="ExpAliases"
                      Grid.Row="1"
                      Expanding="Accordion_Expanding">
                <Expander.Header>
                    <TextBlock Text="АЛИАСЫ"
                               Style="{ThemeResource SubtitleTextBlockStyle}"
                               FontFamily="{StaticResource SFPro}"
                               Margin="10,4,10,4"
                               VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"/>
                </Expander.Header>

                <Grid Margin="10,4,10,4" RowSpacing="12">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal">
                        <TextBox PlaceholderText="Новый алиас…" Width="320"
                                 FontFamily="{StaticResource SFPro}"/>
                        <Button Content="Добавить" Margin="8,0,0,0"/>
                    </StackPanel>

                    <ListView Grid.Row="1" Height="160">
                        <ListViewItem Content="BOSCH"/>
                        <ListViewItem Content="Robert Bosch"/>
                        <ListViewItem Content="BOSCH GmbH"/>
                    </ListView>
                </Grid>
            </Expander>

            <!-- === ЦЕНООБРАЗОВАНИЕ === -->
            <Expander x:Name="ExpPricing"
                      Grid.Row="2"
                      Expanding="Accordion_Expanding">
                <Expander.Header>
                    <TextBlock Text="ЦЕНООБРАЗОВАНИЕ"
                               Style="{ThemeResource SubtitleTextBlockStyle}"
                               FontFamily="{StaticResource SFPro}"
                               Margin="10,4,10,4"
                               VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"/>
                </Expander.Header>

                <Grid Margin="10,4,10,4" ColumnSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="40"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="420"/>
                    </Grid.ColumnDefinitions>

                    <FontIcon Grid.Column="0" Glyph="&#xEAFD;" VerticalAlignment="Center"/>
                    <StackPanel Grid.Column="1">
                        <TextBlock Text="Наценка бренда, %"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                        <TextBlock Text="Диапазон 0–200, шаг 0.1"
                                   FontFamily="{StaticResource SFPro}"
                                   Style="{ThemeResource CaptionTextBlockStyle}"/>
                    </StackPanel>
                    <NumberBox Grid.Column="2" Minimum="0" Maximum="200" SmallChange="0.1" Value="15"/>
                </Grid>
            </Expander>

            <!-- === ПОЛЬЗОВАТЕЛЬСКИЕ === -->
            <Expander x:Name="ExpUser"
                      Grid.Row="3"
                      Margin="20,0,20,20"
                      Expanding="Accordion_Expanding">
                <Expander.Header>
                    <TextBlock Text="ПОЛЬЗОВАТЕЛЬСКИЕ"
                               Style="{ThemeResource SubtitleTextBlockStyle}"
                               FontFamily="{StaticResource SFPro}"
                               Margin="10,4,10,4"
                               VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"/>
                </Expander.Header>

                <Grid Margin="10,4,10,4" RowSpacing="12" ColumnSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="40"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="420"/>
                    </Grid.ColumnDefinitions>

                    <!-- IsFavorite -->
                    <FontIcon Grid.Row="0" Grid.Column="0" Glyph="&#xEB52;" VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="0" Grid.Column="1"
                               Text="Избранное"
                               FontFamily="{StaticResource SFPro}"
                               Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                    <ToggleSwitch Grid.Row="0" Grid.Column="2"/>

                    <!-- UserNotes -->
                    <FontIcon Grid.Row="1" Grid.Column="0" Glyph="&#xE70B;" VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="1" Grid.Column="1"
                               Text="Заметки пользователя"
                               FontFamily="{StaticResource SFPro}"
                               Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                    <TextBox Grid.Row="1" Grid.Column="2" Height="72"
                             FontFamily="{StaticResource SFPro}"
                             AcceptsReturn="True" TextWrapping="Wrap"
                             PlaceholderText="Короткие заметки…"/>
                </Grid>
            </Expander>
        </Grid>
    </ScrollViewer>
</Page>